apiVersion: v1
kind: ConfigMap
metadata:
  name: grafana-dashboards
  namespace: your-cluster
data:
  vm-overview.json: |
    {
      "title": "VictoriaMetrics Overview",
      "panels": [
        {
          "title": "Storage Usage",
          "type": "graph",
          "datasource": "VictoriaMetrics",
          "targets": [
            {
              "expr": "vm_storage_bytes_total",
              "legendFormat": "Total Storage"
            }
          ],
          "gridPos": {"h": 8, "w": 12, "x": 0, "y": 0}
        }
      ],
      "timezone": "browser",
      "panels": [
        {
          "title": "Scrape Targets",
          "type": "stat",
          "datasource": "VictoriaMetrics",
          "targets": [
            {
              "expr": "sum(vm_scrape_target_up)",
              "legendFormat": "Up Targets"
            }
          ],
          "gridPos": {"h": 8, "w": 12, "x": 12, "y": 0}
        }
      ]
    }
  vm-datasource.yaml: |
    apiVersion: 1
    datasources:
      - name: VictoriaMetrics
        type: prometheus
        url: http://victoria-metrics.your-cluster.svc.cluster.local:8428
        access: proxy
        isDefault: true
